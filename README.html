<h1 id="minecraft-bedrock-editor-extension-starter-kit">Minecraft Bedrock Editor Extension Starter Kit</h1>
<p>The Minecraft Bedrock Editor Extension Starter Kit is intended to get you up and running in writing your own Minecraft Bedrock Editor extensions.</p>
<p>An Editor Extension is basically a way to allow creators to extend the basic Editor experience and to empower you to write your own custom tools to create cool, fun and engaging Minecraft worlds using the Bedrock Editor.</p>
<p>Note to non-Windows users:<br><em>Currently the Minecraft Bedrock Editor Extension kit only works in a Windows environment.  The underlying code and tools may well be available for other platforms, but some of the utilities we use to simplify the process assume Windows code and data paths.
If you are experienced with other operating systems and development environments, there&#39;s nothing stopping you from taking the basic principles of this kit and setting up your own pipeline (we may well do it ourselves in the future, but just not yet)</em></p>
<p>Another Note:
<em>Throughout the install process, you will need an active internet connection.  The installer actively downloads open-source tooling, libraries and symbols and won&#39;t work if the remote servers cannot be contacted</em></p>
<p>&nbsp;</p>
<p>The Minecraft Bedrock Editor Extension Starter Kit assumes that the creator has at least a rudimentary knowledge of JavaScript AND TypeScript, and is somewhat comfortable with the command line.
In addition, some basic knowledge of <code>git</code> would be useful (but not required).</p>
<h2 id="before-you-begin">Before you begin</h2>
<p>In order to begin, you will need to make sure you have the following software installed (don&#39;t worry if you don&#39;t - the Extension Kit installer will step you through the various requirements)</p>
<h3 id="required">Required</h3>
<ul>
<li><p><a href="https://nodejs.org/en/download">Node.js</a> - <code>Node.js</code> provides a full command line driven build environment and tool chain for building scripts for Minecraft Bedrock Scripts (and Editor Extensions) and is a basic requirement.  </p>
</li>
<li><p><a href="https://apps.microsoft.com/store/detail/minecraft-preview-for-windows/9p5x4qvlc2xr">Minecraft Preview</a> - Minecraft Preview Edition needs to be downloaded from the Microsoft Store and installed.  The game has to have been run at least once (in order to set up various internal folders and settings)</p>
</li>
</ul>
<h3 id="recommended">Recommended</h3>
<ul>
<li><p><a href="https://code.visualstudio.com/">Visual Studio Code</a> - We STRONGLY recommend installing this code editor for developing Minecraft Bedrock Editor Extensions.  <br>Visual Studio Code supports syntax highlighting for JavaScript and Typescript, as well as a full source-level debugging experience for Minecraft Bedrock scripts, as well as formatting and error detection tools.<br><strong>Note:</strong> <em>The Editor Starter Kit installs a special <code>.vscode</code> file into any new project which sets up a number of recommended Visual Studio Code extensions that should make your development experience easier (code checkers, formatters and a special Minecraft Script Debugger).  When you eventually start Visual Studio Code with an Editor Extension project - make sure you install all the recommended extensions when prompted</em></p>
</li>
<li><p><a href="https://gitforwindows.org/">Git</a> - We recommend installing Git as a method of fetching the latest starter kit changes, or storing your project where it won&#39;t get lost in the event of a system failure.  Git isn&#39;t required (there are many other alternative solutions like SVN, Perforce, etc), but Git is the one Mojang uses.  <br>This is only a recommendation, and you don&#39;t have to install it if you&#39;re not comfortable or familiar with it.</p>
</li>
</ul>
<p>&nbsp;</p>
<p>Also - before you begin, have the following information on hand:</p>
<ul>
<li>Where to download (clone) the Bedrock Editor Extension Kit installer<ul>
<li>This can be anywhere, but we&#39;d generally recommend somewhere you can refer back to it and use it again for any new projects you want to create.</li>
</ul>
</li>
<li>Where to install the project for your new Bedrock Editor Extension<ul>
<li>This can be anywhere on your local drive, but we generally recommend a single place where you normally keep all of your projects and working samples.  Something like <code>C:\dev</code>.<br>Note:  There&#39;s currently a bug in one of the open-source packages we use that causes some issues when your extension project is on a different drive letter from the game - so we&#39;d recommend keeping any projects you create on the <code>C:\</code> drive.  This won&#39;t be permanent, but at this time we don&#39;t have a fix for it.</li>
</ul>
</li>
<li>Do you want to start with a blank project, or use a template?<ul>
<li>We supply a few different sample templates including an empty one.  Each of the samples show some aspect of the Editor Extension system.  If you know what you&#39;re doing, just choose the empty one - it does the bare minimum to get you up and running.</li>
</ul>
</li>
<li>Will you need any icons or text assets for your new extension?<ul>
<li>If you need to add any additional icons or text strings or anything else that might be loaded - then it needs to live in a resource pack.  (Resource Packs and Behavior Packs are paired up, and have dependencies on each other).  <br>If you have any doubts, then just answer <code>YES</code> when prompted</li>
</ul>
</li>
</ul>
<h2 id="downloading">Downloading</h2>
<h1 id=""></h1>
<h3 id="dave-todo----need-a-valid-link-placeholder">DAVE TODO -- Need a valid link (placeholder)</h3>
<h3 id="dave-todo----need-a-valid-link-for-the-packagejson-repository-url">DAVE TODO -- Need a valid link for the package.json repository URL</h3>
<p>&nbsp;</p>
<p>Navigate to <code>https://github.com/Mojang/minecraft-editor/BedrockEditorExtensionkit</code> and either clone the repository to a location on your hard drive (using your knowledge of <code>git</code>), or download the kit as a <code>ZIP</code> file and uncompress it to the root of your development folder.</p>
<h2 id="installing">Installing</h2>
<p>Open Windows PowerShell from the Windows Start Menu (or use WIN+R keys and type <code>powershell</code>).<br>Navigate to the location on your hard drive where you placed the Extension Kit Installer.</p>
<pre><code class="language-powershell">cd c:\dev            &lt;&lt; Use the development folder name you chose here &gt;&gt;
.\install.ps1
</code></pre>
<h3 id="dave-todo----if-i-get-the-ps1-signed-we-can-get-rid-of-the-execution-policy-section">DAVE TODO -- If I get the PS1 signed, we can get rid of the Execution Policy section</h3>
<ul>
<li>(If you see a script permissions error when attempting to run the installer, you may have to change your Execution Privileges in Powershell - Please read <a href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.security/set-executionpolicy?view=powershell-7.3">Set-ExecutionPolicy</a> at Microsoft.com).  You may have to change your current script permissions to allow the installer to run (only do this if you&#39;re having a problem running it)</li>
</ul>
<pre><code class="language-powershell">Set-ExecutionPolicy -Scope CurrentUser Unrestricted
</code></pre>
<p>&nbsp;</p>
<p>Using the information you prepared in the <a href="#before-you-begin">Before you begin</a> section, follow the prompts and answer the questions.</p>
<p><em>NOTE: If you ARE installing any prerequisite packages - please make sure you ALWAYS choose to add the tool to the <code>PATH</code> (so that any command line systems can locate the tools) - some steps may not complete correctly if the tools cannot be found.</em></p>
<p>At the end of the process, you should have a new folder containing all the files, folders and  assets required to start writing your new Minecraft Bedrock Editor Extension.</p>
<h1 id="-1"></h1>
<h1 id="starting-development">Starting Development</h1>
<h2 id="open-your-new-project">Open your new project</h2>
<p>Open Visual Studio Code, and select <code>File &gt; Open Folder</code> and select the folder that you choose to install your new Extension project (e.g. <code>c:\dev\myNewProject</code>)</p>
<p>On left hand side of the screen you will see the file explorer window, showing all of the files in your project.  Feel free to explore the files (don&#39;t change anything yet!)</p>
<p>Go to the top menu bar and select <code>Terminal &gt; New Terminal</code> (or hit <code>CTRL+~</code>).<br>(Our tools should work in any of the different terminal flavors, but we generally favor either <code>Powershell</code> or <code>Git Bash</code>)  </p>
<p>Type the following into the terminal</p>
<pre><code class="language-bash">npm install
</code></pre>
<p><strong>NOTE</strong>
<em>Technically, the installer does this during the install process - but if you ever change any of the version numbers, dependencies or anything like that - you need to re-run the <code>install</code> step to ensure that everything is up to date</em>  </p>
<p>This will process your project settings and install all of the tools and symbols required by the Extension kit.  </p>
<p>&nbsp;</p>
<p>The first step is to prepare a behavior pack destination (and resource pack destination if you chose to install any assets) - these will be deployed to the Minecraft <code>development_behavior_packs</code> and <code>developement_resource_packs</code> folders (these are folders that live in tandem with your Minecraft worlds and various other Minecraft files)</p>
<pre><code class="language-bash">npm run prepare
</code></pre>
<p><strong>NOTE</strong>
<em>If you ever add any additional asset files to your project (sprites, textures, icons, strings, etc), then you need to remember to run the <code>prepare</code> step.  This ensures that all of your assets have been deployed to a location where Minecraft can find them</em></p>
<p>You can open a file explorer and check if you like. (probably wise, first time around ;) )  </p>
<p>Open a Windows File Explorer window and paste</p>
<pre><code class="language-bat">%LOCALAPPDATA%\Packages\Microsoft.MinecraftWindowsBeta_8wekyb3d8bbwe\LocalState\games\com.mojang
</code></pre>
<p>into the address bar.  You should see a number of folders in there...</p>
<pre><code>  behavior_packs
  development_behavior_packs
  development_resource_packs
  development_skin_packs
  minecraftWorlds
  minecraftpe
  resource_packs
  skin_packs
  world_templates
</code></pre>
<p><strong>This is a super handy folder to remember if you&#39;re actively developing for Minecraft.  You should probably make a shortcut to it!</strong></p>
<p>&nbsp;</p>
<p>If you look inside <code>development_behavior_packs</code> you should see a folder with the name of your new extension. (If you chose to add assets, there should be a matching folder in <code>development_resource_packs</code> too)</p>
<p>The <code>prepare</code> step is only really needed the first time, or if you ever add new assets (textures, text strings, custom files) to your extension - it basically copies the folders from <code>&lt;install_location&gt;\assets\</code> to the <code>development</code> packs folders where Minecraft can find them.  It does some indexing of the folder contents and creates the manifest files required by the game -- so remember: if you add or change ANY new assets (sprites, textures, strings, etc) - run the <code>prepare</code> step.</p>
<h2 id="development-cycle">Development Cycle</h2>
<h1 id="-2"></h1>
<p>The development cycle is relatively straight forward.<br>Open Visual Studio Code and write some TypeScript.<br>Open a <code>New Terminal</code> in Visual Studio Code (make sure you&#39;re in the root of your new extension project) and type</p>
<pre><code class="language-bash">npm run build
</code></pre>
<p>This will run the TypeScript compiler and compile your extension source code.  If it compiles successfully, the compiled code will be deployed to the <code>development_behavior_packs\&lt;my extension name [BP]\scripts</code> folder, ready for Minecraft.  </p>
<h2 id="open-minecraft-preview">Open Minecraft (Preview)</h2>
<h1 id="-3"></h1>
<p>Currently, Bedrock Editor is only available in Preview editions of Minecraft Bedrock - you need to make sure that you&#39;ve installed the Preview edition from the Microsoft Store (or Minecraft Installer)</p>
<p>There are a couple of methods to open Minecraft in Editor mode:</p>
<ol>
<li>Start the Preview version of the game in Editor mode using <code>Powershell</code>.<br>Go to a <code>Powershell</code> command prompt (either in Windows or in Visual Studio Code) and type
Press the Windows Key and <code>R</code> key together - this will launch the <code>Windows Run Dialog</code>
Enter the string</li>
</ol>
<pre><code class="language-powershell">Start-Process shell:AppsFolder\$(Get-AppxPackage -name &quot;Microsoft.MinecraftWindowsBeta&quot; | Select-Object -ExpandProperty PackageFamilyName)!App -ArgumentList &quot;Editor=true&quot;
</code></pre>
<ol start="2">
<li>Using the Extension Starter Kit helper script.<br>Go to the Visual Studio <code>Powershell</code> terminal and type:</li>
</ol>
<pre><code class="language-powershell">.\launch-editor.ps1
</code></pre>
<ol start="3">
<li>Using the Extension Starter Kit build scripts.<br>Go to the Visual Studio terminal and type</li>
</ol>
<pre><code class="language-bash">npm run launch
</code></pre>
<p>The Minecraft Preview edition should start up in Editor mode (you can tell it&#39;s Editor mode because the usual <code>Play Game</code> and <code>Settings</code> buttons are missing, and you&#39;re immediately presented with a <code>Create Project</code> screen).</p>
<p>&nbsp;</p>
<p>Create a new Editor Project (give it any name you want), but before launching it - go to the <code>Behavior Packs</code> tab and navigate to <code>Available Packs</code>.  You should see your new Editor Extension in that list.
Add the behavior pack to your world project (and add the Resource pack if you chose to add assets).<br>Launch the world.</p>
<p>Your extension should be loaded into the Editor environment</p>
<h2 id="making-changes">Making Changes</h2>
<h1 id="-4"></h1>
<p>The only time you should ever need to restart Minecraft is if you add any new assets (sprites, icons, text, etc) -- The Editor environment supports &quot;hot-reloading&quot; of compiled script changes.  </p>
<p>For example - create a simple Extension and load it into the Editor using all of the steps above.  Once the game is running and your extension is loaded, return to Visual Studio Code (DON&#39;T close the game, leave it running!) and make a simple change that will be visible and re-compile it.<br>Return to the game and hit the <code>/</code> (forward slash) key and type </p>
<pre><code>/reload
</code></pre>
<p>You&#39;ll see the Editor quickly disappear and reload, and !voila! - your newly changed script will have been loaded.  Try it out to confirm!</p>
<h2 id="debugging">Debugging</h2>
<h1 id="-5"></h1>
<p>Sometimes, even the best of us need to debug our code to see where we&#39;ve gone wrong.
Often, the simplest way of debugging is to insert lots of &quot;debug output&quot;...  throughout your extension, you can insert the JavaScript command</p>
<pre><code class="language-js">console.log(`Got as far as initialization`);
</code></pre>
<p>(or some message to that effect).<br>You should see your messages appear in the Log Window.<br>This can often help you determine how far your code got (you can even dump the values of variables and internal states to the output window to help you find your problem)</p>
<p>&nbsp;</p>
<p>Sometimes, though, this just isn&#39;t enough and you need to use a debugger to step through your code.  The Minecraft Bedrock JavaScript engine supports full source-level debugging.</p>
<ol>
<li>Find the <code>Run &amp; Debug (CTRL+SHIFT+D)</code> icon in the Visual Studio Code side bar, and press it</li>
<li>A new set of panels should open on the left side of the screen, and you should see a drop-down combo box at the top.  This is the <code>debugger configuration</code> selector</li>
<li>Choose the <code>Debug Editor Extension</code> configuration and hit green <code>PLAY</code> button (<code>F5</code>)</li>
<li>The debugger will start <code>listening</code> for a connection from the game.</li>
<li>Open the Minecraft Editor</li>
<li>Hit the <code>/</code> (forward slash) key and type<pre><code>/script debugger connect localhost 19144 
</code></pre>
</li>
<li>You should see a message both on the game and in Visual Studio code about a connection being made</li>
<li>Now you&#39;re ready to debug.</li>
</ol>
<p>For additional information regarding debugging, the debugger or the script system - you should read through the official documentation at  </p>
<p><a href="https://aka.ms/MinecraftCreatorDocs">Learn at Microsoft</a></p>
<p>also, check out Debugger specific documentation at</p>
<p><a href="https://aka.ms/mcscriptdebugging">Microsoft Minecraft Visual Studio Code Debugger</a></p>
<h2 id="ok-ive-made-something-cool">OK, I&#39;ve made something COOL!</h2>
<h1 id="-6"></h1>
<p>Once you&#39;ve made a cool extension, you&#39;re going to want to show it off, right?<br>In that case, you can use the packaging tools to make a <code>.mceditoraddon</code> file -- this is a packaged up version of your extension that is perfect for distributing to your buddies or other Minecraft Editor users.</p>
<p>Open a Terminal at the root of your Extension project and type</p>
<pre><code class="language-bash">npm run make-addon
</code></pre>
<p>This will build your project, and package up the resource and behavior packs.
The resultant <code>.mceditoraddon</code> file will be created in the <code>./dist</code> folder inside your Extension project folder.<br>Just copy it, email it, pop it on your OneDrive - whatever you want.</p>
<p>Anyone can just double-click open the file and it will automatically be installed into the Minecraft development folders for them to include in their own Editor projects.</p>
<h2 id="and-finally">And finally...</h2>
<h1 id="-7"></h1>
<p>Have fun creating!<br>If you do something really cool, let us know on the <a href="https://github.com/Mojang/minecraft-editor">Mojang Minecraft Editor Github Forum</a> - post some pics and let us see what you created!</p>
<p>This is also the place for Editor and Editor Extension related questions and bugs - we encourage you to report any bugs you find so that we can make the project better! We read everything posted there, and we&#39;ll address them as fast as we can.</p>
<p>AND... If you have a fantastic idea for an Editor Extension, but feel that the API doesn&#39;t expose the functions you need - <strong>GET IN TOUCH!</strong><br>Let us know what we&#39;re missing!  Editor is by no means finished - it&#39;s constantly evolving, and we&#39;re really excited to add new functionality and new ways for you to create.  </p>
<p>&nbsp;</p>
<p>We&#39;re making this for YOU!</p>
